{"version":3,"sources":["webpack:///./src/components/common/dialogBox/DialogBox.vue?657c","webpack:///src/components/common/dialogBox/DialogBox.vue","webpack:///./src/components/common/dialogBox/DialogBox.vue?4621","webpack:///./src/components/common/dialogBox/DialogBox.vue","webpack:///./src/components/common/chatBox/ChatBox.vue?d0a7","webpack:///src/components/common/chatBox/ChatBox.vue","webpack:///./src/components/common/chatBox/ChatBox.vue?e6ff","webpack:///./src/components/common/chatBox/ChatBox.vue","webpack:///./src/components/common/navbar/NavBar.vue?1836","webpack:///./src/components/common/dialogBox/DialogBox.vue?c7ff","webpack:///./src/assets/img/addressBox/avatar_male.svg","webpack:///./src/components/common/chatBox/ChatBox.vue?097b","webpack:///./src/assets/img/addressBox/avatar_female.svg","webpack:///./src/components/common/navbar/NavBar.vue?118d","webpack:///src/components/common/navbar/NavBar.vue","webpack:///./src/components/common/navbar/NavBar.vue?1366","webpack:///./src/components/common/navbar/NavBar.vue","webpack:///./src/views/chat/SingleChat.vue?7f11","webpack:///src/views/chat/SingleChat.vue","webpack:///./src/views/chat/SingleChat.vue?632f","webpack:///./src/views/chat/SingleChat.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_t","staticRenderFns","name","component","style","module","exports","on","goback","methods","$router","go","slot","_v","_s","toName","_l","item","index","key","fromName","msg","directives","rawName","value","expression","domProps","$event","target","composing","handleSendBtnClick","ws","WebSocket","components","NavBar","ChatBox","DialogBox","data","$route","query","localStorage","getItem","msgList","send","JSON","stringify","isclosed","push","id","Date","toLocaleDateString","_this","onmessage","e","parse"],"mappings":"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","file":"js/chunk-75547816.4797ef6a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"dialog\"}},[_c('div',{attrs:{\"id\":\"dialog-box\"}},[_c('div',{staticClass:\"dialog-box-item\"},[_c('div',[_vm._t(\"input\")],2),_c('div',[_vm._t(\"btn\")],2)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<div id=\"dialog\">\r\n<div id=\"dialog-box\">\r\n  <div class=\"dialog-box-item\">\r\n    <div><slot name=\"input\"></slot></div>\r\n    <div><slot name=\"btn\"></slot></div>\r\n  </div>\r\n</div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'DialogBox'\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n#dialog {\r\n  padding-top: 8vh;\r\n}\r\n#dialog-box {\r\n  display: flex;\r\n  background-color: rgb(255, 255, 255);\r\n\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n\r\n  box-shadow: 0 -1px 1px rgba(100, 100, 100, .1);\r\n\r\n}\r\n.dialog-box-item {\r\n  display: flex;\r\n  padding: 0 5vw;\r\n  background-color: rgb(222, 225, 230);\r\n}\r\n.dialog-box > input, .dialog-box > button {\r\n  font-size: 2vw;\r\n}\r\ninput[type=text] {\r\n  height: 8vh;\r\n  border: 0;  /*去除未选中状态的边框*/\r\n  border-radius: 6px;\r\n  box-shadow: 0px 1.6px 3.6px rgba(0, 0, 0, 0.13);\r\n  min-width: 70vw;\r\n  background-color: rgb(241, 243, 244);\r\n  padding-left: 3vw;\r\n}\r\ninput[type=text]:focus {\r\n  outline-color: rgb(3, 102, 214);\r\n  box-shadow: 0px 5px 5px rgba(179, 209, 243, 1);\r\n  background-color: rgb(255, 255, 255);\r\n}\r\ninput[type=button] {\r\n  height: 8vh;\r\n  background-color: rgb(155, 233, 168);\r\n  border: 0;\r\n  box-shadow: 0px 1.6px 3.6px rgba(0, 0, 0, 0.13);\r\n  min-width: 20vw;\r\n  border-radius: 30%;\r\n  margin-left: 1vw;\r\n}\r\ninput[type=button]:hover{\r\n  border: 0;\r\n  background-color: rgb(64, 196, 99);\r\n}\r\ninput[type=button]:focus{\r\n  outline: 0;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DialogBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DialogBox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DialogBox.vue?vue&type=template&id=c1dcf07c&scoped=true&\"\nimport script from \"./DialogBox.vue?vue&type=script&lang=js&\"\nexport * from \"./DialogBox.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DialogBox.vue?vue&type=style&index=0&id=c1dcf07c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c1dcf07c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"chat-box\"},[_c('div',{staticClass:\"left\"},[_vm._t(\"left\")],2),_c('div',{staticClass:\"center\",style:(_vm.styleObject)},[_vm._t(\"center\")],2),_c('div',{staticClass:\"right\"},[_vm._t(\"right\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n   <div class=\"chat-box\">\r\n      <div class=\"left\"><slot name=\"left\"></slot></div>\r\n      <div class=\"center\" :style=\"styleObject\"><slot name=\"center\"></slot></div>\r\n      <div class=\"right\"><slot name=\"right\"></slot></div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'ChatBox',\r\n    props: {\r\n      bgcolor: String\r\n    },\r\n    data: function() {\r\n      return {\r\n        styleObject: {\r\n          backgroundColor: this.bgcolor\r\n        }\r\n      }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n  .chat-box {\r\n    display: flex;\r\n  }\r\n  .left, .right {\r\n      flex: 1;\r\n      max-width: 5vw;\r\n      padding: 1vw;\r\n  }\r\n  .center {\r\n    flex: 1;\r\n    border: 1px solid rgb(225, 228, 232);\r\n    border-radius: 6px;\r\n    margin-top: 2vh;\r\n    background-color: rgb(246, 248, 250);\r\n  }\r\n\r\n  .left > img, .right > img {\r\n      width: 3vw;\r\n      margin-top: 1vh;\r\n  }\r\n  \r\n  .center > p {\r\n    font-size: 1vw;\r\n    padding: 1vh;\r\n  }\r\n\r\n  /* 适配移动端 */\r\n  @media screen and (max-width: 960px){\r\n    .left, .right {\r\n      flex: 1;\r\n      max-width: 12vw;\r\n      padding: 1vw;\r\n    }\r\n    .left > img, .right > img {\r\n      width: 10vw;\r\n      margin-top: 2vh;\r\n    }\r\n  }\r\n  \r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatBox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChatBox.vue?vue&type=template&id=40e1ed17&scoped=true&\"\nimport script from \"./ChatBox.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatBox.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChatBox.vue?vue&type=style&index=0&id=40e1ed17&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"40e1ed17\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavBar.vue?vue&type=style&index=0&id=b857f31e&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DialogBox.vue?vue&type=style&index=0&id=c1dcf07c&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/avatar_male.971189ae.svg\";","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatBox.vue?vue&type=style&index=0&id=40e1ed17&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/avatar_female.ca9b5199.svg\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"nav-bar\"},[_c('div',{staticClass:\"left\"},[_vm._t(\"left\")],2),_c('div',{staticClass:\"center\"},[_vm._t(\"center\")],2),_c('div',{staticClass:\"right\",on:{\"click\":_vm.goback}},[_vm._t(\"right\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"nav-bar\">\r\n    <div class=\"left\"><slot name=\"left\"></slot></div>\r\n    <div class=\"center\"><slot name=\"center\"></slot></div>\r\n    <div class=\"right\" @click=\"goback\"><slot name=\"right\"></slot></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'NavBar',\r\n  methods: {\r\n    goback() {\r\n      this.$router.go(-1);\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  .nav-bar {\r\n    display: flex;\r\n    height: 7vh;\r\n    text-align: center;\r\n    font-size: 2vh;\r\n  }\r\n\r\n  .left, .right {\r\n    width: 20vw;\r\n    background-color: rgb(36, 41, 46);\r\n    padding: 2vh 0;\r\n  }\r\n\r\n  .left > p, .right > p{\r\n    color: rgb(255, 255, 255);\r\n  }\r\n  .center {\r\n    flex: 1;\r\n    background-color: rgb(36, 41, 46);\r\n    padding: 2vh 0;\r\n  }\r\n  .center > p {\r\n    color: rgb(255, 255, 255);\r\n  }\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NavBar.vue?vue&type=template&id=b857f31e&scoped=true&\"\nimport script from \"./NavBar.vue?vue&type=script&lang=js&\"\nexport * from \"./NavBar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NavBar.vue?vue&type=style&index=0&id=b857f31e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b857f31e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('nav-bar',[_c('p',{attrs:{\"slot\":\"left\"},slot:\"left\"},[_vm._v(\"单聊\")]),_c('p',{attrs:{\"slot\":\"center\"},slot:\"center\"},[_vm._v(_vm._s(_vm.toName))]),_c('p',{attrs:{\"slot\":\"right\"},slot:\"right\"},[_vm._v(\"返回《\")])]),_c('ul',_vm._l((_vm.msgList),function(item,index){return _c('li',{key:index},[(item.fromName === _vm.fromName)?_c('p',[_c('chat-box',{attrs:{\"bgcolor\":\"rgb(155, 233, 168)\"}},[_c('img',{attrs:{\"slot\":\"right\",\"src\":require(\"assets/img/addressBox/avatar_male.svg\")},slot:\"right\"}),_c('p',{attrs:{\"slot\":\"center\"},slot:\"center\"},[_vm._v(_vm._s(item.msg))])])],1):_c('p',[_c('chat-box',[_c('img',{attrs:{\"slot\":\"left\",\"src\":require(\"assets/img/addressBox/avatar_female.svg\")},slot:\"left\"}),_c('p',{attrs:{\"slot\":\"center\"},slot:\"center\"},[_vm._v(_vm._s(item.msg))])])],1)])}),0),_c('dialog-box',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.msg),expression:\"msg\"}],attrs:{\"slot\":\"input\",\"type\":\"text\",\"placeholder\":\"请输入聊天内容\"},domProps:{\"value\":(_vm.msg)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.msg=$event.target.value}},slot:\"input\"}),_c('input',{attrs:{\"slot\":\"btn\",\"type\":\"button\",\"value\":\"发送\"},on:{\"click\":_vm.handleSendBtnClick},slot:\"btn\"})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<div>\r\n<nav-bar>\r\n  <p slot=\"left\">单聊</p>\r\n  <p slot=\"center\">{{toName}}</p>\r\n  <p slot=\"right\">返回《</p>\r\n</nav-bar>\r\n\r\n<ul>\r\n  <li v-for=\"(item, index) in msgList\" :key=\"index\">\r\n    <p v-if=\"item.fromName === fromName\"><chat-box bgcolor=\"rgb(155, 233, 168)\">\r\n          <img slot=\"right\" src=\"~assets/img/addressBox/avatar_male.svg\" />\r\n          <p slot=\"center\">{{item.msg}}</p>\r\n    </chat-box></p>\r\n    <p v-else><chat-box>\r\n          <img slot=\"left\" src=\"~assets/img/addressBox/avatar_female.svg\" />\r\n          <p slot=\"center\">{{item.msg}}</p>\r\n    </chat-box></p>\r\n  </li>\r\n</ul>\r\n\r\n<dialog-box>\r\n  <input type=\"text\" v-model=\"msg\" slot=\"input\" placeholder=\"请输入聊天内容\" />\r\n  <input type=\"button\" slot=\"btn\" @click=\"handleSendBtnClick\" value=\"发送\"/>\r\n</dialog-box>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport NavBar from 'components/common/navbar/NavBar.vue';\r\nimport DialogBox from 'components/common/dialogBox/DialogBox.vue';\r\nimport ChatBox from 'components/common/chatBox/ChatBox.vue';\r\n\r\nvar ws = new WebSocket('ws://localhost:8000');\r\n\r\nexport default {\r\n  name: 'SingleChat',\r\n  components: { \r\n    NavBar,\r\n    ChatBox,\r\n    DialogBox\r\n  },\r\n  data() {\r\n    return {\r\n      toName: this.$route.query.toName,\r\n      fromName: localStorage.getItem(\"username\"),\r\n      msg: '',\r\n      msgList: [],\r\n    }\r\n  },\r\n  methods: {\r\n    handleSendBtnClick: function () {\r\n\r\n      ws.send(JSON.stringify({\r\n        toName: this.toName,\r\n        fromName: this.fromName,\r\n        msg: this.msg,\r\n        isclosed: false\r\n      }));\r\n      this.msgList.push({\r\n        id: new Date().toLocaleDateString(),\r\n        fromName: this.fromName,\r\n        msg: this.msg\r\n      })\r\n\r\n      // 接收服务器响应回来的信息\r\n      var _this = this;\r\n      ws.onmessage = function (e) {\r\n        var msg = JSON.parse(e.data).msg;\r\n        var fromName = JSON.parse(e.data).fromName;\r\n        _this.msgList.push({\r\n          id: new Date().toLocaleDateString(),\r\n          fromName: fromName,\r\n          msg: msg,\r\n        });\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SingleChat.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SingleChat.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SingleChat.vue?vue&type=template&id=294a7480&\"\nimport script from \"./SingleChat.vue?vue&type=script&lang=js&\"\nexport * from \"./SingleChat.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}